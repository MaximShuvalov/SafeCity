<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.css">

    <script src="https://api-maps.yandex.ru/2.1/?apikey=6523b558-8f09-4875-bdcb-7e8c479c8714&lang=ru_RU"
            type="text/javascript">
    </script>

    <title>Безопасный и комфортный город</title>
</head>

<body>
<header class="header container-lg">
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false">
            <span class="navbar-toggler-icon"></span>
        </button>


        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav ms-auto mb-2">
                <li class="nav-item ">
                    <a class="nav-link" href="">
                        <div class="linc-color">Главная</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="">
                        <div class="linc-color">Обращения граждан</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="">
                        <div class="linc-color">Контакты</div>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div class="container-lg">
    <p>ПРОЕКТ СИБИРСКОГО ГОСУДАРСТВЕННОГО АВТОМОБИЛЬНО-ДОРОЖНОГО УНИВЕРСИТЕТА (СИБАДИ)</p>
</div>
<div class="container-lg">
    <h3 class="text-color">Безопасный и комфортный город</h3>
</div>
<div class="container-lg">
    <h3 class="text-color">Омск, Советский округ</h3>
</div>
<div class="container-lg">
    <p>Проект направлен на создание комфортной и безопасной среды для проживания в городе Омске. Позволяет горожанам
        принять участие в жизни своего города и округа, выявить проблемы, повлиять на качество жизни, обеспечить
        возможности взаимодействия с государственными и муниципальными властями Омска для поиска решений и
        реализации гражданских инициатив на информационном, консультационном и методическом уровнях.</p>
</div>

<div class="container-lg">
    <div class="stat">
        <dvi class="stat--item">
            <div class="stat--num">
                <p style="color: red; font-weight: 700; font-size: 30px;">45</p>
            </div>
            <div class="stat--text">
                <p>Безопасность на дорогах</p>
            </div>
        </dvi>
        <dvi class="stat--item">
            <div class="stat--num">
                <p style="color: rgb(212, 193, 19); font-weight: 700; font-size: 30px;">30</p>
            </div>
            <div class="stat--text">
                <p>Комфортность проживания</p>
            </div>
        </dvi>
        <dvi class="stat--item">
            <div class="stat--num">
                <p style="color: royalblue; font-weight: 700; font-size: 30px;">30</p>
            </div>
            <div class="stat--text">
                <p>Решенные проблемы</p>
            </div>
        </dvi>
    </div>
</div>

<div class="container-lg">
    <div class="feedback">
        <dvi class="feedback--item">
            <p class="stat--text">Сообщить о проблеме:</p>
        </dvi>
        <dvi class="feedback--item">
            <button type="button" onClick="location.href='apeal.html'" class="btn btn-danger">Безопасность на дорогах
            </button>
        </dvi>
        <dvi class="feedback--item">
            <button type="button" onClick="location.href='apeal.html'" class="btn btn-warning">Комфортность проживания
            </button>
        </dvi>

        <script>
            function setAppealClassLocalStorage(nameClass) {
                localStorage.setItem('appealClass', nameClass);
            }
        </script>
    </div>
</div>

<div class="container-lg">
    <div id="map" style="width: 100%; height: 400px"></div>
    <script type="text/javascript">
        ymaps.ready(init);
        var adress_needed = 'Омск';

        var add = function () {
            let fetchAllCategory = fetch("https://bkg.sibadi.org/api/all")

            fetchAllCategory.then(function (response) {
                response.text().then(function (text) {
                    var options = JSON.parse(text)

                    for (var i = 0; i <= options.length - 1; i++) {
                        addToMap(options[i].address);
                    }
                });
            });
        };

        var addToMap = function (inputAdress) {
            ymaps.geocode(inputAdress, { //ищем по нужному адресу
                boundedBy: myMap.getBounds(),
                results: 1
            }).then(function (res) {
                // myMap.geoObjects.add(new ymaps.Placemark(res.geoObjects.get(0).getCoordinates(), {}, {
                //     preset: 'islands#redIcon'
                //}));
            });
        };


        var myMap;

        function init() {
            myMap = new ymaps.Map("map", {
                center: [55.02337, 73.29973],
                zoom: 15
            });
        

        var myGeocoder = ymaps.geocode("Омск");

        myGeocoder.then(function (res) {
            myMap.controls.add('zoomControl', {
                left: 5,
                top: 5
            });
            var firstGeoObject = res.geoObjects.get(0),
                coords = firstGeoObject.geometry.getCoordinates(),
                bounds = firstGeoObject.properties.get('boundedBy');

            myMap.setBounds(bounds, {
                checkZoomRange: true
            });
            
            myMap.geoObjects.add(
                new ymaps.Placemark(coords, {}, {
                    preset: 'islands#redIcon'
                })
            );

            var myPlacemark = new ymaps.Placemark([55.752577, 37.632134], {}, {
                iconImageHref: 'http://4.bp.blogspot.com/--ddYKXz6fpc/Uh1NrRYLtVI/AAAAAAAAAPA/Bd16ChUzC2Q/s1600/home-icon.png',
                iconImageSize: [50, 40],
                iconImageOffset: [0, -50],
            });

            var myPlacemark1 = new ymaps.Placemark([55.52, 37.622093], {}, {
                iconImageHref: 'http://4.bp.blogspot.com/--ddYKXz6fpc/Uh1NrRYLtVI/AAAAAAAAAPA/Bd16ChUzC2Q/s1600/home-icon.png',
                iconImageSize: [50, 40],
                iconImageOffset: [0, -50],
            });

            // myMap.geoObjects
            //     .add(myPlacemark)
            //     .add(myPlacemark1);
        });

        add();
        
        }

    </script>
</div>

<div class="container-lg">
    <h3 class="made text-color">Уже решено:</h3>
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="img/1.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>First slide label</h5>
                    <p>Some representative placeholder content for the first slide.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="img/2.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Second slide label</h5>
                    <p>Some representative placeholder content for the second slide.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="img/3.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Third slide label</h5>
                    <p>Some representative placeholder content for the third slide.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>

<footer class="footer">
    <div class="container-lg">
        <div class="footer--inner">
            <div class="footer--item">
                Контакты и обращения <br>
                8-950-783-62-65 <br>
                bkg@sibadi.org
            </div>
            <div class="footer--item">
                2021 ФГБОУ ВО «СибАДИ» <br>
                644080, г. Омск, пр. Мира 5
            </div>
            <div class="footer--item">
                <a style="color: white; text-decoration: none;" href=""> Техподдержка сайта <br> </a>
                <a style="color: white; text-decoration: none;" href=""> Карта сайта<br> </a>
            </div>
        </div>
    </div>
</footer>


<script src="js/bootstrap.js"></script>
</body>

</html>